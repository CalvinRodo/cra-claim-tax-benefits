extends ../../base

block variables
  -var title = __('Enter your child’s name and date of birth')
  -var childFirstName = hasData(body, 'childFirstName') ? body.childFirstName : ''
  -var childLastName = hasData(body, 'childLastName') ? body.childLastName : ''
  -var childDobDay = hasData(body, 'childDobDay') ? body.childDobDay : ''
  -var childDobMonth = hasData(body, 'childDobMonth') ? body.childDobMonth : ''
  -var childDobYear = hasData(body, 'childDobYear') ? body.childDobYear : ''

block content

  h1 #{title}

  div
    p #{__('This information helps to verify your identity. Please enter your child’s date of birth in the field below.')}
    p #{__('Choose a different question if you didn’t get a benefit from CRA for this child.')}

  div
    form.cra-form(method='post')

      div(class={['has-error']: errors && errors.childName})
        fieldset.fieldset(role="group",)
          legend
            h2 #{__('Your child’s full name')}

          +textInput('First name', ['w-1-2', 'd--ib'])(name='childFirstName' value=childFirstName)
          +textInput('Last name', ['w-1-2', 'd--ib'])(name='childLastName' value=childLastName)

      div.dob-container(class={['has-error']: errors && errors.childDobDay})
        fieldset.fieldset(role="group", aria-describedby="dobHint")
          legend
            h2 #{__('Your child’s date of birth')}

          span#dobHint.cra-form-message #{__('For Example:')} 21 05 2006

          //- hmm, not sure about this
          if errors
            ul
              each err in errors
                li
                  +validationMessage(err.msg, err.param)

          div.w-1-4.d--ib
            label(for='childDobDay') #{__('Day')}
            input#childDobDay(name='childDobDay', type='text', value=childDobDay, autocomplete='bday-day', aria-describedby=(errors && errors.childDobDay ? 'childDobDay-error' : false))

          div.w-1-4.d--ib
            label(for='childDobMonth') #{__('Month')}
            input#childDobMonth(name='childDobMonth', type='text', value=childDobMonth, autocomplete='bday-month', aria-describedby=(errors && errors.childDobMonth ? 'childDobMonth-error' : false))

          div.w-1-2.d--ib
            label(for='childDobYear') #{__('Year')}
            input#childDobYear(name='childDobYear', type='text', value=childDobYear, autocomplete='bday-year', aria-describedby=(errors && errors.childDobYear ? 'childDobYear-error' : false))

      input#redirect(name='redirect', type='hidden', value='/personal/name')

      +formButtons()
